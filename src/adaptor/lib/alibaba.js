const{hasOwnProperty:hasOwnProperty}=Object.prototype;function paramsMap(e,t={}){const n={};return Object.keys(e).forEach(o=>{let s=o;hasOwnProperty.call(t,o)&&(s=t[o]),n[s]=e[o]}),n}function emptyFn(){}function getInstance(){const e=my;if(e.has_ali_hook_flag)return;e.has_ali_hook_flag=!0;const t={};["getStorageSync","setStorageSync","removeStorageSync"].forEach(n=>{t[n]=e[n],e[n]=((e,o)=>{let s={};"string"==typeof e?(s.key=e,o&&(s.data=o)):s=e;let a=t[n](s);return"getStorageSync"===n&&(a=a&&a.data||""),a})});const{getSystemInfo:n}=e;e.getSystemInfo=function(e){const t=e.success||emptyFn;return e.success=function(e){e.system=`${e.platform} ${e.system}`,e.windowHeight||(e.windowHeight=parseInt(e.screenHeight*e.windowWidth/e.screenWidth,10)-40),t(e)},n.call(this,e)};const{getUpdateManager:o}=e;e.getUpdateManager=function(){const e=o();return["applyUpdate","onCheckForUpdate","onUpdateFailed","onUpdateReady"].forEach(t=>{e[t]=e[t]||emptyFn}),e},e.setEnableDebug=e.setEnableDebug||emptyFn,e.getLogManager=e.getLogManager||emptyFn,e.getLaunchOptionsSync=e.getLaunchOptionsSync||emptyFn,e.onPageNotFound=e.onPageNotFound||emptyFn,e.onError=e.onError||emptyFn,e.onAudioInterruptionBegin=e.onAudioInterruptionBegin||emptyFn,e.onAppShow=e.onAppShow||emptyFn,e.onAppHide=e.onAppHide||emptyFn,e.offPageNotFound=e.offPageNotFound||emptyFn,e.offError=e.offError||emptyFn,e.offAudioInterruptionBegin=e.offAudioInterruptionBegin||emptyFn,e.offAppShow=e.offAppShow||emptyFn,e.offAppHide=e.offAppHide||emptyFn;const{showToast:s}=e;e.showToast=function(e){return void 0===e.icon&&(e.icon="success"),s.call(this,paramsMap(e,{title:"content",icon:"type"}))},e.showModal=e.showModal||function(t){const n=paramsMap(t);let{showCancel:o}=n;void 0===o&&(o=!0),o?(n.confirmButtonText=n.confirmText,n.cancelButtonText=n.cancelText):n.buttonText=n.confirmText,e[o?"confirm":"alert"](n)};const{showLoading:a}=e;e.showLoading=function(e){return a.call(this,paramsMap(e,{title:"content"}))};const{showActionSheet:c}=e;e.showActionSheet=function(e){const t=paramsMap(e,{itemList:"items"}),n=t.success||emptyFn,o=t.fail||emptyFn;return t.success=function({index:e}){-1===e?o({errMsg:"showActionSheet:fail cancel"}):n({tapIndex:e})},c.call(this,t)},e.setNavigationBarTitle=e.setNavigationBar,e.setNavigationBarColor=e.setNavigationBar,e.showTabBarRedDot=e.showTabBarRedDot||emptyFn,e.setTabBarStyle=e.setTabBarStyle||emptyFn,e.setTabBarItem=e.setTabBarItem||emptyFn,e.setTabBarBadge=e.setTabBarBadge||emptyFn,e.removeTabBarBadge=e.removeTabBarBadge||emptyFn,e.hideTabBarRedDot=e.hideTabBarRedDot||emptyFn,e.loadFontFace=e.loadFontFace||emptyFn,e.startPullDownRefresh=e.startPullDownRefresh||emptyFn;const{pageScrollTo:r}=e;e.pageScrollTo=function(e){e.success=e.success||emptyFn,e.fail=e.fail||emptyFn;try{r(e),e.success({errMsg:"pageScrollTo:ok"})}catch(t){e.fail(t)}},e.setTopBarText=e.setTopBarText||emptyFn,e.nextTick=e.nextTick||emptyFn,e.getMenuButtonBoundingClientRect=e.getMenuButtonBoundingClientRect||emptyFn,e.onWindowResize=e.onWindowResize||emptyFn,e.offWindowResize=e.offWindowResize||emptyFn,e.request=function(t){t.headers=t.header||t.headers||{},t.headers.referer=t.referer||"",t.headers["content-type"]=t.headers["Content-Type"]||"application/json";const n=t.success||emptyFn;return t.success=function(e){n.call(this,paramsMap(e,{headers:"header",status:"statusCode"}))},e.httpRequest(t)};const{downloadFile:i}=e;e.downloadFile=function(e){const t=e.success||emptyFn,n=i(Object.assign({},e,{success(e){e.tempFilePath=e.apFilePath,e.statusCode=200,t(e)}}));return["abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate"].forEach(e=>{n[e]=n[e]||emptyFn}),n};const{uploadFile:p}=e;e.uploadFile=function(e){const t=e.filePath.split(/[\/\\]/),n=t[t.length-1],o=/\.(png|jpg|jpeg|gif|webp)/i.test(n),s=/\.(mp4|mov|WMV|3GP|FLV|RMVB|WebM|AVI|ASF|MPEG|MPG|DAT|MKV)/i.test(n),a=o?"image":s?"video":"audio";e=Object.assign({},e,{fileName:n,fileType:a});const c=p(e);return["abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate"].forEach(e=>{c[e]=c[e]||emptyFn}),c};const{connectSocket:u}=e;e.connectSocket=function(...t){return setTimeout(()=>{u.apply(this,t)},100),{send(...t){e.sendSocketMessage.apply(this,t)},close(...t){e.closeSocket.apply(this,t)},onOpen(t){e.onSocketOpen(t)},onClose(t){e.onSocketClose(t)},onError(t){e.onSocketError(t)},onMessage(t){e.onSocketMessage(t)}}},e.stopLocalServiceDiscovery=e.stopLocalServiceDiscovery||emptyFn,e.startLocalServiceDiscovery=e.startLocalServiceDiscovery||emptyFn,e.onLocalServiceResolveFail=e.onLocalServiceResolveFail||emptyFn,e.onLocalServiceLost=e.onLocalServiceLost||emptyFn,e.onLocalServiceFound=e.onLocalServiceFound||emptyFn,e.onLocalServiceDiscoveryStop=e.onLocalServiceDiscoveryStop||emptyFn,e.offLocalServiceResolveFail=e.offLocalServiceResolveFail||emptyFn,e.offLocalServiceLost=e.offLocalServiceLost||emptyFn,e.offLocalServiceFound=e.offLocalServiceFound||emptyFn,e.offLocalServiceDiscoveryStop=e.offLocalServiceDiscoveryStop||emptyFn;const{getStorage:l}=e;e.getStorage=function(e){const{success:t}=e;return e.success=function(n){n.data?t(n):e.fail({errMsg:"getStorage:fail data not found"})},l.call(this,e)};const{createMapContext:m}=e;e.createMapContext=function(e){const t=m(e);return["getRegion","getScale","includePoints"].forEach(e=>{t[e]=t[e]||emptyFn}),t};const{getImageInfo:g}=e;e.getImageInfo=function(e){const{success:t}=e;return g.call(this,Object.assign({},e,{success(e){e.type=e.type.substring(0,e.type.indexOf("?")),t(e)}}))},e.saveImageToPhotosAlbum=function(t){return e.saveImage(Object.assign({},t,{url:t.filePath,success(e){e.errMsg="saveImageToPhotosAlbum:ok",t.success&&t.success(e)}}))};const{previewImage:d}=e;e.previewImage=function(e){const t=paramsMap(e);let{current:n}=t;return n&&(n=e.urls.indexOf(n)),-1!==n&&n||(n=0),t.current=n,d.call(this,t)};const{compressImage:y}=e;e.compressImage=function(e){const{src:t}=e,n=e.success||emptyFn;return y.call(this,Object.assign({},e,{compressLevel:4,apFilePaths:[t],success(e){e.tempFilePath=e.apFilePaths[0]||"",n(e)}}))},e.chooseMessageFile=e.chooseMessageFile||emptyFn;const{chooseImage:f}=e;e.chooseImage=function(e){const t=e.success||emptyFn;return e.count=e.count||9,f.call(this,Object.assign({},e,{success(e){const n=[].concat(e.apFilePaths),o=e.apFilePaths.map(e=>({path:e,size:null})),s=[].concat(o);t({tempFilePaths:n,tempFiles:s})}}))},e.saveVideoToPhotosAlbum=e.saveVideoToPhotosAlbum||emptyFn,e.createVideoContext=e.createVideoContext||emptyFn,e.chooseVideo=e.chooseVideo||emptyFn,e.stopVoice=e.stopVoice||emptyFn,e.setInnerAudioOption=e.setInnerAudioOption||emptyFn,e.playVoice=e.playVoice||emptyFn,e.pauseVoice=e.pauseVoice||emptyFn,e.getAvailableAudioSources=e.getAvailableAudioSources||emptyFn,e.createInnerAudioContext=e.createInnerAudioContext||emptyFn,e.createAudioContext=e.createAudioContext||emptyFn,e.stopBackgroundAudio=e.stopBackgroundAudio||emptyFn,e.seekBackgroundAudio=e.seekBackgroundAudio||emptyFn,e.playBackgroundAudio=e.playBackgroundAudio||emptyFn,e.pauseBackgroundAudio=e.pauseBackgroundAudio||emptyFn,e.onBackgroundAudioStop=e.onBackgroundAudioStop||emptyFn,e.onBackgroundAudioPlay=e.onBackgroundAudioPlay||emptyFn,e.onBackgroundAudioPause=e.onBackgroundAudioPause||emptyFn,e.getBackgroundAudioPlayerState=e.getBackgroundAudioPlayerState||emptyFn,e.getBackgroundAudioManager=e.getBackgroundAudioManager||emptyFn,e.createLivePusherContext=e.createLivePusherContext||emptyFn,e.createLivePlayerContext=e.createLivePlayerContext||emptyFn,e.stopRecord=e.stopRecord||emptyFn,e.startRecord=e.startRecord||emptyFn,e.getRecorderManager=e.getRecorderManager||emptyFn,e.createCameraContext=e.createCameraContext||emptyFn;const{openLocation:F}=e;e.openLocation=function(e){return void 0===e.name&&(e.name="位置"),void 0===e.address&&(e.address="-"),F.call(this,e)};const{getLocation:h}=e;e.getLocation=function(e){return h(Object.assign({},e,{type:0}))},e.updateShareMenu=e.updateShareMenu||emptyFn,e.getShareInfo=e.getShareInfo||emptyFn,e.showShareMenu=e.showShareMenu||emptyFn;const{createCanvasContext:S}=e;e.createCanvasContext=function(e){const t=S.call(this,e);return t.arcTo=t.arcTo||(()=>t),t.createPattern=t.createPattern||(()=>t),t.strokeText=t.strokeText||(()=>t),t.miterLimit=t.setMiterLimit,t.lineCap=t.setLineCap,t.lineDashOffset=t.setLineDash,t.lineJoin=t.setLineJoin,t},e.canvasToTempFilePath=function(t){const n=e.createCanvasContext(t.canvasId),o=t.success||emptyFn;n.toTempFilePath(Object.assign({},t,{success(e){e.tempFilePath=e.apFilePath,o(e)}}))},e.canvasPutImageData=function(t){e.createCanvasContext(t.canvasId).putImageData(t)},e.canvasGetImageData=function(t){e.createCanvasContext(t.canvasId).getImageData(t)};const{saveFile:v}=e;e.saveFile=function(e){const t=e.success||emptyFn,n=e.tempFilePath;return v.call(this,Object.assign({},e,{apFilePath:n,success(e){e.savedFilePath=e.apFilePath,t(e)}}))};const{removeSavedFile:C}=e;e.removeSavedFile=function(e){return C.call(this,paramsMap(e,{filePath:"apFilePath"}))};const{getSavedFileList:L}=e;e.getSavedFileList=function(e){const t=e.success||emptyFn;return L.call(this,Object.assign({},e,{success(e){e&&e.fileList.map(e=>(e.filePath=e.apFilePath,e)),t(e)}}))};const{getSavedFileInfo:A}=e;e.getSavedFileInfo=function(e){return A.call(this,paramsMap(e,{filePath:"apFilePath"}))};const{getFileInfo:P}=e;e.getFileInfo=function(e){return P.call(this,paramsMap(e,{filePath:"apFilePath"}))},e.getFileSystemManager=e.getFileSystemManager||emptyFn,e.stopWifi=e.stopWifi||emptyFn,e.startWifi=e.startWifi||emptyFn,e.setWifiList=e.setWifiList||emptyFn,e.onWifiConnected=e.onWifiConnected||emptyFn,e.onGetWifiList=e.onGetWifiList||emptyFn,e.getWifiList=e.getWifiList||emptyFn,e.getConnectedWifi=e.getConnectedWifi||emptyFn,e.connectWifi=e.connectWifi||emptyFn,e.onBLEConnectionStateChange=e.onBLEConnectionStateChanged,e.createBLEConnection=e.connectBLEDevice,e.closeBLEConnection=e.disconnectBLEDevice,e.getBatteryInfoSync=e.getBatteryInfoSync||emptyFn,e.getBatteryInfo=e.getBatteryInfo||emptyFn,e.setClipboardData=function(t){return e.setClipboard(paramsMap(t,{data:"text"}))},e.getClipboardData=function(t){const{success:n}=t;return e.getClipboard(Object.assign({},t,{success(e){e.data=e.text,n(e)}}))},e.stopHCE=e.stopHCE||emptyFn,e.startHCE=e.startHCE||emptyFn,e.sendHCEMessage=e.sendHCEMessage||emptyFn,e.onHCEMessage=e.onHCEMessage||emptyFn,e.getHCEState=e.getHCEState||emptyFn;const{getNetworkType:I}=e;e.getNetworkType=function(e){const t=e.success||emptyFn;return I(Object.assign({},e,{success(e){e.networkType=e.networkType.toLocaleLowerCase(),t(e)}}))};const{onNetworkStatusChange:M}=e;e.onNetworkStatusChange=function(e){return M(t=>{t.networkType=t.networkType.toLocaleLowerCase(),e(t)})};const{makePhoneCall:b}=e;e.makePhoneCall=function(e){return b.call(this,paramsMap(e,{phoneNumber:"number"}))},e.startAccelerometer=e.startAccelerometer||emptyFn,e.stopAccelerometer=e.offAccelerometerChange,e.stopCompass=e.offCompassChange,e.startCompass=e.startCompass||emptyFn,e.stopDeviceMotionListening=e.stopDeviceMotionListening||emptyFn,e.startDeviceMotionListening=e.startDeviceMotionListening||emptyFn,e.onDeviceMotionChange=e.onDeviceMotionChange||emptyFn,e.stopGyroscope=e.offGyroscopeChange,e.startGyroscope=e.startGyroscope||emptyFn,e.onMemoryWarning=e.onMemoryWarning||emptyFn,e.scanCode=function(t){const n=t.success||emptyFn;return e.scan(Object.assign({},t,{hideAlbum:void 0===t.onlyFromCamera||t.onlyFromCamera,type:void 0===t.scanType?"qr":{qrCode:"qr",barCode:"bar"}[t.scanType[0]],success(e){let t="";e.qrCode?t="QR_CODE":e.barCode&&(t="BAR_CODE"),n({result:e.code,scanType:t,errMsg:"scanCode:ok"})}}))},e.createWorker=e.createWorker||emptyFn,e.getExtConfigSync=e.getExtConfigSync||emptyFn,e.getExtConfig=e.getExtConfig||emptyFn;const{createSelectorQuery:B}=e;e.createSelectorQuery=function(...e){const t=B.apply(this,e);return t.in=t.in||function(){return t},t},e.createIntersectionObserver=e.createIntersectionObserver||emptyFn,e.login=(t=>{const n={success:t.success,fail:t.fail,complete:t.complete};return t.success=function(e){e.code=e.authCode,delete e.authCode,n.success&&n.success(e)},e.getAuthCode(t)}),e.checkSession=e.checkSession||emptyFn;const{getAuthUserInfo:k}=e;e.getUserInfo=(e=>{const t={success:e.success,fail:e.fail,complete:e.complete};return e.success=function(e){const n={};Object.keys(e).forEach(t=>{n["avatar"===t?"avatarUrl":t]=e[t]}),t.success&&t.success({userInfo:n})},k(e)});const T=e.tradePay;e.requestPayment=function(e){const t=paramsMap(e,{alipay_trade_body:"orderStr"}),n=t.success||emptyFn,o=t.fail||emptyFn;return t.success=function(e){9e3===e.resultCode?n():o()},T.call(this,t)},e.getAccountInfoSync=e.getAccountInfoSync||emptyFn,e.reportMonitor=e.reportMonitor||emptyFn,e.reportAnalytics=e.reportAnalytics||emptyFn,e.getWeRunData=e.getWeRunData||emptyFn,e.authorize=e.authorize||emptyFn,e.startSoterAuthentication=e.startSoterAuthentication||emptyFn,e.checkIsSupportSoterAuthentication=e.checkIsSupportSoterAuthentication||emptyFn,e.checkIsSoterEnrolledInDevice=e.checkIsSoterEnrolledInDevice||emptyFn,e.chooseInvoiceTitle=e.chooseInvoiceTitle||emptyFn,e.chooseInvoice=e.chooseInvoice||emptyFn,e.addCard=e.addCard||emptyFn,e.openCard=e.openCard||emptyFn,e.chooseAddress=e.chooseAddress||emptyFn;const{getSetting:w}=e;e.getSetting=function(e){const t=e.success||emptyFn;return w(Object.assign({},e,{success(e){e.authSetting["scope.userLocation"]=e.authSetting["scope.location"],e.authSetting["scope.writePhotosAlbum"]=e.authSetting["scope.album"],e.authSetting["scope.record"]=e.authSetting["scope.audioRecord"],t(e)}}))};const{openSetting:x}=e;return e.openSetting=function(e){const t=e.success||emptyFn;return x(Object.assign({},e,{success(e){e.authSetting["scope.userLocation"]=e.authSetting["scope.location"],e.authSetting["scope.writePhotosAlbum"]=e.authSetting["scope.album"],e.authSetting["scope.record"]=e.authSetting["scope.audioRecord"],t(e)}}))},e}export default getInstance();