const{hasOwnProperty:hasOwnProperty}=Object.prototype;function paramsMap(e,t={}){const n={};return Object.keys(e).forEach(o=>{let s=o;hasOwnProperty.call(t,o)&&(s=t[o]),n[s]=e[o]}),n}function emptyFn(){}let wx;function getInstance(){if(wx&&wx.has_ali_hook_flag)return wx;(wx={...my}).has_ali_hook_flag=!0;const e={};["getStorageSync","setStorageSync","removeStorageSync"].forEach(t=>{e[t]=wx[t],wx[t]=((n,o)=>{let s={};"string"==typeof n?(s.key=n,o&&(s.data=o)):s=n;let a=e[t](s);return"getStorageSync"===t&&(a=a&&a.data||""),a})});const{getSystemInfo:t}=wx;wx.getSystemInfo=function(e){const n=e.success||emptyFn;return e.success=function(e){e.system=`${e.platform} ${e.system}`,e.windowHeight||(e.windowHeight=parseInt(e.screenHeight*e.windowWidth/e.screenWidth,10)-40),n(e)},t.call(this,e)};const{getUpdateManager:n}=wx;wx.getUpdateManager=function(){const e=n();return["applyUpdate","onCheckForUpdate","onUpdateFailed","onUpdateReady"].forEach(t=>{e[t]=e[t]||emptyFn}),e},wx.setEnableDebug=wx.setEnableDebug||emptyFn,wx.getLogManager=wx.getLogManager||emptyFn,wx.getLaunchOptionsSync=wx.getLaunchOptionsSync||emptyFn,wx.onPageNotFound=wx.onPageNotFound||emptyFn,wx.onError=wx.onError||emptyFn,wx.onAudioInterruptionBegin=wx.onAudioInterruptionBegin||emptyFn,wx.onAppShow=wx.onAppShow||emptyFn,wx.onAppHide=wx.onAppHide||emptyFn,wx.offPageNotFound=wx.offPageNotFound||emptyFn,wx.offError=wx.offError||emptyFn,wx.offAudioInterruptionBegin=wx.offAudioInterruptionBegin||emptyFn,wx.offAppShow=wx.offAppShow||emptyFn,wx.offAppHide=wx.offAppHide||emptyFn;const{showToast:o}=wx;wx.showToast=function(e){return void 0===e.icon&&(e.icon="success"),o.call(this,paramsMap(e,{title:"content",icon:"type"}))},wx.showModal=wx.showModal||function(e){const t=paramsMap(e);let{showCancel:n}=t;void 0===n&&(n=!0),n?(t.confirmButtonText=t.confirmText,t.cancelButtonText=t.cancelText):t.buttonText=t.confirmText,wx[n?"confirm":"alert"](t)};const{showLoading:s}=wx;wx.showLoading=function(e){return s.call(this,paramsMap(e,{title:"content"}))};const{showActionSheet:a}=wx;wx.showActionSheet=function(e){const t=paramsMap(e,{itemList:"items"}),n=t.success||emptyFn,o=t.fail||emptyFn;return t.success=function({index:e}){-1===e?o({errMsg:"showActionSheet:fail cancel"}):n({tapIndex:e})},a.call(this,t)},wx.setNavigationBarTitle=wx.setNavigationBar,wx.setNavigationBarColor=wx.setNavigationBar,wx.showTabBarRedDot=wx.showTabBarRedDot||emptyFn,wx.setTabBarStyle=wx.setTabBarStyle||emptyFn,wx.setTabBarItem=wx.setTabBarItem||emptyFn,wx.setTabBarBadge=wx.setTabBarBadge||emptyFn,wx.removeTabBarBadge=wx.removeTabBarBadge||emptyFn,wx.hideTabBarRedDot=wx.hideTabBarRedDot||emptyFn,wx.loadFontFace=wx.loadFontFace||emptyFn,wx.startPullDownRefresh=wx.startPullDownRefresh||emptyFn;const{pageScrollTo:c,request:r}=wx;wx.pageScrollTo=function(e){e.success=e.success||emptyFn,e.fail=e.fail||emptyFn;try{c(e),e.success({errMsg:"pageScrollTo:ok"})}catch(t){e.fail(t)}},wx.setTopBarText=wx.setTopBarText||emptyFn,wx.nextTick=wx.nextTick||emptyFn,wx.getMenuButtonBoundingClientRect=wx.getMenuButtonBoundingClientRect||emptyFn,wx.onWindowResize=wx.onWindowResize||emptyFn,wx.offWindowResize=wx.offWindowResize||emptyFn,wx.request=function(e){e.headers=e.header||e.headers||{},e.headers.referer=e.referer||"",e.headers["content-type"]=e.headers["Content-Type"]||"application/json";const t=e.success||emptyFn;return e.success=function(e){t.call(this,paramsMap(e,{headers:"header",status:"statusCode"}))},r(e)};const{downloadFile:i}=wx;wx.downloadFile=function(e){const t=e.success||emptyFn,n=i(Object.assign({},e,{success(e){e.tempFilePath=e.apFilePath,e.statusCode=200,t(e)}}));return["abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate"].forEach(e=>{n[e]=n[e]||emptyFn}),n};const{uploadFile:w}=wx;wx.uploadFile=function(e){const t=e.filePath.split(/[\/\\]/),n=t[t.length-1],o=/\.(png|jpg|jpeg|gif|webp)/i.test(n),s=/\.(mp4|mov|WMV|3GP|FLV|RMVB|WebM|AVI|ASF|MPEG|MPG|DAT|MKV)/i.test(n),a=o?"image":s?"video":"audio";e=Object.assign({},e,{fileName:n,fileType:a});const c=w(e);return["abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate"].forEach(e=>{c[e]=c[e]||emptyFn}),c};const{connectSocket:x}=wx;wx.connectSocket=function(...e){return setTimeout(()=>{x.apply(this,e)},100),{send(...e){wx.sendSocketMessage.apply(this,e)},close(...e){wx.closeSocket.apply(this,e)},onOpen(e){wx.onSocketOpen(e)},onClose(e){wx.onSocketClose(e)},onError(e){wx.onSocketError(e)},onMessage(e){wx.onSocketMessage(e)}}},wx.stopLocalServiceDiscovery=wx.stopLocalServiceDiscovery||emptyFn,wx.startLocalServiceDiscovery=wx.startLocalServiceDiscovery||emptyFn,wx.onLocalServiceResolveFail=wx.onLocalServiceResolveFail||emptyFn,wx.onLocalServiceLost=wx.onLocalServiceLost||emptyFn,wx.onLocalServiceFound=wx.onLocalServiceFound||emptyFn,wx.onLocalServiceDiscoveryStop=wx.onLocalServiceDiscoveryStop||emptyFn,wx.offLocalServiceResolveFail=wx.offLocalServiceResolveFail||emptyFn,wx.offLocalServiceLost=wx.offLocalServiceLost||emptyFn,wx.offLocalServiceFound=wx.offLocalServiceFound||emptyFn,wx.offLocalServiceDiscoveryStop=wx.offLocalServiceDiscoveryStop||emptyFn;const{getStorage:p}=wx;wx.getStorage=function(e){const{success:t}=e;return e.success=function(n){n.data?t(n):e.fail({errMsg:"getStorage:fail data not found"})},p.call(this,e)};const{createMapContext:u}=wx;wx.createMapContext=function(e){const t=u(e);return["getRegion","getScale","includePoints"].forEach(e=>{t[e]=t[e]||emptyFn}),t};const{getImageInfo:l}=wx;wx.getImageInfo=function(e){const{success:t}=e;return l.call(this,Object.assign({},e,{success(e){e.type=e.type.substring(0,e.type.indexOf("?")),t(e)}}))},wx.saveImageToPhotosAlbum=function(e){return wx.saveImage(Object.assign({},e,{url:e.filePath,success(t){t.errMsg="saveImageToPhotosAlbum:ok",e.success&&e.success(t)}}))};const{previewImage:m}=wx;wx.previewImage=function(e){const t=paramsMap(e);let{current:n}=t;return n&&(n=e.urls.indexOf(n)),-1!==n&&n||(n=0),t.current=n,m.call(this,t)};const{compressImage:g}=wx;wx.compressImage=function(e){const{src:t}=e,n=e.success||emptyFn;return g.call(this,Object.assign({},e,{compressLevel:4,apFilePaths:[t],success(e){e.tempFilePath=e.apFilePaths[0]||"",n(e)}}))},wx.chooseMessageFile=wx.chooseMessageFile||emptyFn;const{chooseImage:d}=wx;wx.chooseImage=function(e){const t=e.success||emptyFn;return e.count=e.count||9,d.call(this,Object.assign({},e,{success(e){const n=[].concat(e.apFilePaths),o=e.apFilePaths.map(e=>({path:e,size:null})),s=[].concat(o);t({tempFilePaths:n,tempFiles:s})}}))},wx.saveVideoToPhotosAlbum=wx.saveVideoToPhotosAlbum||emptyFn,wx.createVideoContext=wx.createVideoContext||emptyFn,wx.chooseVideo=wx.chooseVideo||emptyFn,wx.stopVoice=wx.stopVoice||emptyFn,wx.setInnerAudioOption=wx.setInnerAudioOption||emptyFn,wx.playVoice=wx.playVoice||emptyFn,wx.pauseVoice=wx.pauseVoice||emptyFn,wx.getAvailableAudioSources=wx.getAvailableAudioSources||emptyFn,wx.createInnerAudioContext=wx.createInnerAudioContext||emptyFn,wx.createAudioContext=wx.createAudioContext||emptyFn,wx.stopBackgroundAudio=wx.stopBackgroundAudio||emptyFn,wx.seekBackgroundAudio=wx.seekBackgroundAudio||emptyFn,wx.playBackgroundAudio=wx.playBackgroundAudio||emptyFn,wx.pauseBackgroundAudio=wx.pauseBackgroundAudio||emptyFn,wx.onBackgroundAudioStop=wx.onBackgroundAudioStop||emptyFn,wx.onBackgroundAudioPlay=wx.onBackgroundAudioPlay||emptyFn,wx.onBackgroundAudioPause=wx.onBackgroundAudioPause||emptyFn,wx.getBackgroundAudioPlayerState=wx.getBackgroundAudioPlayerState||emptyFn,wx.getBackgroundAudioManager=wx.getBackgroundAudioManager||emptyFn,wx.createLivePusherContext=wx.createLivePusherContext||emptyFn,wx.createLivePlayerContext=wx.createLivePlayerContext||emptyFn,wx.stopRecord=wx.stopRecord||emptyFn,wx.startRecord=wx.startRecord||emptyFn,wx.getRecorderManager=wx.getRecorderManager||emptyFn,wx.createCameraContext=wx.createCameraContext||emptyFn;const{openLocation:y}=wx;wx.openLocation=function(e){return void 0===e.name&&(e.name="位置"),void 0===e.address&&(e.address="-"),y.call(this,e)};const{getLocation:f}=wx;wx.getLocation=function(e){return f(Object.assign({},e,{type:0}))},wx.updateShareMenu=wx.updateShareMenu||emptyFn,wx.getShareInfo=wx.getShareInfo||emptyFn,wx.showShareMenu=wx.showShareMenu||emptyFn;const{createCanvasContext:F}=wx;wx.createCanvasContext=function(e){const t=F.call(this,e);return t.arcTo=t.arcTo||(()=>t),t.createPattern=t.createPattern||(()=>t),t.strokeText=t.strokeText||(()=>t),t.miterLimit=t.setMiterLimit,t.lineCap=t.setLineCap,t.lineDashOffset=t.setLineDash,t.lineJoin=t.setLineJoin,t},wx.canvasToTempFilePath=function(e){const t=wx.createCanvasContext(e.canvasId),n=e.success||emptyFn;t.toTempFilePath(Object.assign({},e,{success(e){e.tempFilePath=e.apFilePath,n(e)}}))},wx.canvasPutImageData=function(e){wx.createCanvasContext(e.canvasId).putImageData(e)},wx.canvasGetImageData=function(e){wx.createCanvasContext(e.canvasId).getImageData(e)};const{saveFile:h}=wx;wx.saveFile=function(e){const t=e.success||emptyFn,n=e.tempFilePath;return h.call(this,Object.assign({},e,{apFilePath:n,success(e){e.savedFilePath=e.apFilePath,t(e)}}))};const{removeSavedFile:S}=wx;wx.removeSavedFile=function(e){return S.call(this,paramsMap(e,{filePath:"apFilePath"}))};const{getSavedFileList:v}=wx;wx.getSavedFileList=function(e){const t=e.success||emptyFn;return v.call(this,Object.assign({},e,{success(e){e&&e.fileList.map(e=>(e.filePath=e.apFilePath,e)),t(e)}}))};const{getSavedFileInfo:C}=wx;wx.getSavedFileInfo=function(e){return C.call(this,paramsMap(e,{filePath:"apFilePath"}))};const{getFileInfo:L}=wx;wx.getFileInfo=function(e){return L.call(this,paramsMap(e,{filePath:"apFilePath"}))},wx.getFileSystemManager=wx.getFileSystemManager||emptyFn,wx.stopWifi=wx.stopWifi||emptyFn,wx.startWifi=wx.startWifi||emptyFn,wx.setWifiList=wx.setWifiList||emptyFn,wx.onWifiConnected=wx.onWifiConnected||emptyFn,wx.onGetWifiList=wx.onGetWifiList||emptyFn,wx.getWifiList=wx.getWifiList||emptyFn,wx.getConnectedWifi=wx.getConnectedWifi||emptyFn,wx.connectWifi=wx.connectWifi||emptyFn,wx.onBLEConnectionStateChange=wx.onBLEConnectionStateChanged,wx.createBLEConnection=wx.connectBLEDevice,wx.closeBLEConnection=wx.disconnectBLEDevice,wx.getBatteryInfoSync=wx.getBatteryInfoSync||emptyFn,wx.getBatteryInfo=wx.getBatteryInfo||emptyFn,wx.setClipboardData=function(e){return wx.setClipboard(paramsMap(e,{data:"text"}))},wx.getClipboardData=function(e){const{success:t}=e;return wx.getClipboard(Object.assign({},e,{success(e){e.data=e.text,t(e)}}))},wx.stopHCE=wx.stopHCE||emptyFn,wx.startHCE=wx.startHCE||emptyFn,wx.sendHCEMessage=wx.sendHCEMessage||emptyFn,wx.onHCEMessage=wx.onHCEMessage||emptyFn,wx.getHCEState=wx.getHCEState||emptyFn;const{getNetworkType:A}=wx;wx.getNetworkType=function(e){const t=e.success||emptyFn;return A(Object.assign({},e,{success(e){e.networkType=e.networkType.toLocaleLowerCase(),t(e)}}))};const{onNetworkStatusChange:P}=wx;wx.onNetworkStatusChange=function(e){return P(t=>{t.networkType=t.networkType.toLocaleLowerCase(),e(t)})};const{makePhoneCall:I}=wx;wx.makePhoneCall=function(e){return I.call(this,paramsMap(e,{phoneNumber:"number"}))},wx.startAccelerometer=wx.startAccelerometer||emptyFn,wx.stopAccelerometer=wx.offAccelerometerChange,wx.stopCompass=wx.offCompassChange,wx.startCompass=wx.startCompass||emptyFn,wx.stopDeviceMotionListening=wx.stopDeviceMotionListening||emptyFn,wx.startDeviceMotionListening=wx.startDeviceMotionListening||emptyFn,wx.onDeviceMotionChange=wx.onDeviceMotionChange||emptyFn,wx.stopGyroscope=wx.offGyroscopeChange,wx.startGyroscope=wx.startGyroscope||emptyFn,wx.onMemoryWarning=wx.onMemoryWarning||emptyFn,wx.scanCode=function(e){const t=e.success||emptyFn;return wx.scan(Object.assign({},e,{hideAlbum:void 0===e.onlyFromCamera||e.onlyFromCamera,type:void 0===e.scanType?"qr":{qrCode:"qr",barCode:"bar"}[e.scanType[0]],success(e){let n="";e.qrCode?n="QR_CODE":e.barCode&&(n="BAR_CODE"),t({result:e.code,scanType:n,errMsg:"scanCode:ok"})}}))},wx.createWorker=wx.createWorker||emptyFn,wx.getExtConfigSync=wx.getExtConfigSync||emptyFn,wx.getExtConfig=wx.getExtConfig||emptyFn;const{createSelectorQuery:M}=wx;wx.createSelectorQuery=function(...e){const t=M.apply(this,e);return t.in=t.in||function(){return t},t},wx.createIntersectionObserver=wx.createIntersectionObserver||emptyFn,wx.login=(e=>{const t={success:e.success,fail:e.fail,complete:e.complete};return e.success=function(e){e.code=e.authCode,delete e.authCode,t.success&&t.success(e)},wx.getAuthCode(e)}),wx.checkSession=wx.checkSession||emptyFn;const{getAuthUserInfo:b}=wx;wx.getUserInfo=(e=>{const t={success:e.success,fail:e.fail,complete:e.complete};return e.success=function(e){const n={};Object.keys(e).forEach(t=>{n["avatar"===t?"avatarUrl":t]=e[t]}),t.success&&t.success({userInfo:n})},b(e)});const B=wx.tradePay;wx.requestPayment=function(e){const t=paramsMap(e,{alipay_trade_body:"orderStr"}),n=t.success||emptyFn,o=t.fail||emptyFn;return t.success=function(e){9e3===e.resultCode?n():o()},B.call(this,t)},wx.getAccountInfoSync=wx.getAccountInfoSync||emptyFn,wx.reportMonitor=wx.reportMonitor||emptyFn,wx.reportAnalytics=wx.reportAnalytics||emptyFn,wx.getWeRunData=wx.getWeRunData||emptyFn,wx.authorize=wx.authorize||emptyFn,wx.startSoterAuthentication=wx.startSoterAuthentication||emptyFn,wx.checkIsSupportSoterAuthentication=wx.checkIsSupportSoterAuthentication||emptyFn,wx.checkIsSoterEnrolledInDevice=wx.checkIsSoterEnrolledInDevice||emptyFn,wx.chooseInvoiceTitle=wx.chooseInvoiceTitle||emptyFn,wx.chooseInvoice=wx.chooseInvoice||emptyFn,wx.addCard=wx.addCard||emptyFn,wx.openCard=wx.openCard||emptyFn,wx.chooseAddress=wx.chooseAddress||emptyFn;const{getSetting:k}=wx;wx.getSetting=function(e){const t=e.success||emptyFn;return k(Object.assign({},e,{success(e){e.authSetting["scope.userLocation"]=e.authSetting["scope.location"],e.authSetting["scope.writePhotosAlbum"]=e.authSetting["scope.album"],e.authSetting["scope.record"]=e.authSetting["scope.audioRecord"],t(e)}}))};const{openSetting:T}=wx;return wx.openSetting=function(e){const t=e.success||emptyFn;return T(Object.assign({},e,{success(e){e.authSetting["scope.userLocation"]=e.authSetting["scope.location"],e.authSetting["scope.writePhotosAlbum"]=e.authSetting["scope.album"],e.authSetting["scope.record"]=e.authSetting["scope.audioRecord"],t(e)}}))},wx}export default getInstance();